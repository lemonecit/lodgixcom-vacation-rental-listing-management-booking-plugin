var LodgixTooltip=(function(d){var a="LodgixTooltip";var c=0;var b=300;return function(q){var f=a+c++;d(['<div id="',f,'" class="lxtTooltip"><div id="',f,'Before"></div><div class="lxtContainer"></div><div id="',f,'After"></div><div class="lxtClose">&#xD7;</div></div>'].join("")).appendTo("body");var o="#"+f;var p,i,j,m;if(q&&q.backgroundColor){d(o+" .lxtContainer").css("background",q.backgroundColor);d(o+"After").css("border-color",q.backgroundColor+" transparent")}this.el=function(r){if(r){return d([o," ",r].join(""))}return d(o)};this.show=function(A){g();var t=d(A.trigger);var E=t.attr("id");if(!E){E=[a,"Trigger",Math.random().toString().substring(2)].join("");t.attr("id",E)}if(p!=E){if(p){l()}p=E;d(o+" .lxtContainer").html(d.render[A.template](A.params));var F=d(o);h();m=this;i=A.touch;j=A.clickable;if(i){F.addClass("lxtTouch");d(o+" .lxtClose").click(l);if(typeof A.onTouch=="function"){F.click(A.onTouch)}}else{F.removeClass("lxtTouch");if(j){t.hover(h,e);F.hover(h,e)}else{t.mouseleave(l)}}F.offset({left:-1000,top:0});F.show();var s=d(document.documentElement);var G=t.offset();var C=t.width();var z=G.left+C/2;var w=F.width();var u=z-w/2;if(u<0){u=G.left}else{var r=s.width()-w;if(u>r){u=G.left+C-w;if(u<0){u=0}}}var y=t.height();var v=9;var x=d(o+"Before");var D=d(o+"After");var B=G.top-F.height()-v;if(B<0){B=G.top+y+v;if(!D.hasClass("lxtArrowTop")){D.removeClass("lxtArrowBottom");D.addClass("lxtArrowTop");x.removeClass("lxtArrowBottomBg");x.addClass("lxtArrowTopBg")}}else{if(!D.hasClass("lxtArrowBottom")){D.removeClass("lxtArrowTop");D.addClass("lxtArrowBottom");x.removeClass("lxtArrowTopBg");x.addClass("lxtArrowBottomBg")}}F.offset({left:u,top:B});d(o+"Before,"+o+"After").css("left",z-u+"px");this.onBeforeHide=A.onBeforeHide}};this.hide=function(){if(p){if(typeof this.onBeforeHide=="function"){this.onBeforeHide();this.onBeforeHide=null}var s=d(o);s.hide();var r=d("#"+p);if(i){d(o+" .lxtClose").unbind("click");s.unbind("click")}else{if(j){r.unbind("mouseenter",h).unbind("mouseleave",e);s.unbind()}else{r.unbind("mouseleave",l)}}h();p=i=j=m=null}};function l(){if(m){m.hide()}}var k=null;function e(){if(!k){k=setTimeout(l,b)}}function h(){if(k){clearTimeout(k);k=null}}var n=null;this.showDelayed=function(s,t){if(s.touch){this.show(s)}else{g();var r=this;n=setTimeout(function(){r.show(s)},t);d(s.trigger).one("mouseleave",g)}};function g(){if(n){clearTimeout(n);n=null}}}})(jQuery);